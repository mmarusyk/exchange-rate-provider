{
  "openapi": "3.0.1",
  "info": {
    "title": "Exchange Rate Provider API",
    "version": "v1",
    "description": "API for retrieving exchange rates."
  },
  "servers": [
    {
      "url": "{defaultHost}",
      "variables": {
        "defaultHost": {
          "default": "http://localhost:3000"
        }
      }
    }
  ],
  "paths": {
    "/api/v1/exchange_rates": {
      "get": {
        "summary": "Lists exchange rates",
        "tags": [
          "Exchange Rates"
        ],
        "description": "Retrieves exchange rates based on source currency",
        "parameters": [
          {
            "name": "source_currency",
            "in": "query",
            "required": true,
            "schema": {
              "pattern": "^[A-Z]{3}$",
              "default": "CZK"
            }
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "CZ",
                "EN"
              ]
            }
          },
          {
            "name": "target_currency[]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "pattern": "^[A-Z]{3}$"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "examples": {
                  "with basic parameters OK returns a 200 response": {
                    "value": [
                      {
                        "target_currency": "AUD",
                        "amount": 1.0,
                        "rate": 14.038,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "BRL",
                        "amount": 1.0,
                        "rate": 3.876,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "BGN",
                        "amount": 1.0,
                        "rate": 12.742,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CNY",
                        "amount": 1.0,
                        "rate": 3.012,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "DKK",
                        "amount": 1.0,
                        "rate": 3.339,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "EUR",
                        "amount": 1.0,
                        "rate": 24.92,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "PHP",
                        "amount": 100.0,
                        "rate": 39.051,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "HKD",
                        "amount": 1.0,
                        "rate": 2.824,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "INR",
                        "amount": 100.0,
                        "rate": 25.732,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "IDR",
                        "amount": 1000.0,
                        "rate": 1.307,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ISK",
                        "amount": 100.0,
                        "rate": 17.057,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ILS",
                        "amount": 1.0,
                        "rate": 6.05,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "JPY",
                        "amount": 100.0,
                        "rate": 15.358,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ZAR",
                        "amount": 1.0,
                        "rate": 1.181,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CAD",
                        "amount": 1.0,
                        "rate": 15.831,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "KRW",
                        "amount": 100.0,
                        "rate": 1.527,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "HUF",
                        "amount": 100.0,
                        "rate": 6.167,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "MYR",
                        "amount": 1.0,
                        "rate": 5.063,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "MXN",
                        "amount": 1.0,
                        "rate": 1.118,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "XDR",
                        "amount": 1.0,
                        "rate": 29.677,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "NOK",
                        "amount": 1.0,
                        "rate": 2.112,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "NZD",
                        "amount": 1.0,
                        "rate": 13.046,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "PLN",
                        "amount": 1.0,
                        "rate": 5.835,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "RON",
                        "amount": 1.0,
                        "rate": 5.006,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "SGD",
                        "amount": 1.0,
                        "rate": 16.732,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "SEK",
                        "amount": 1.0,
                        "rate": 2.273,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CHF",
                        "amount": 1.0,
                        "rate": 26.538,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "THB",
                        "amount": 100.0,
                        "rate": 65.512,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "TRY",
                        "amount": 100.0,
                        "rate": 56.997,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "USD",
                        "amount": 1.0,
                        "rate": 21.909,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "GBP",
                        "amount": 1.0,
                        "rate": 29.328,
                        "source_currency": "CZK"
                      }
                    ]
                  },
                  "with target currency filter OK returns a 200 response": {
                    "value": [
                      {
                        "target_currency": "EUR",
                        "amount": 1.0,
                        "rate": 24.92,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "USD",
                        "amount": 1.0,
                        "rate": 21.909,
                        "source_currency": "CZK"
                      }
                    ]
                  },
                  "with date parameter OK returns a 200 response": {
                    "value": [
                      {
                        "target_currency": "AUD",
                        "amount": 1.0,
                        "rate": 14.715,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "BRL",
                        "amount": 1.0,
                        "rate": 3.983,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "BGN",
                        "amount": 1.0,
                        "rate": 12.814,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CNY",
                        "amount": 1.0,
                        "rate": 3.227,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "DKK",
                        "amount": 1.0,
                        "rate": 3.363,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "EUR",
                        "amount": 1.0,
                        "rate": 25.085,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "PHP",
                        "amount": 100.0,
                        "rate": 40.833,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "HKD",
                        "amount": 1.0,
                        "rate": 3.016,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "INR",
                        "amount": 100.0,
                        "rate": 26.928,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "IDR",
                        "amount": 1000.0,
                        "rate": 1.437,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ISK",
                        "amount": 100.0,
                        "rate": 17.123,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ILS",
                        "amount": 1.0,
                        "rate": 6.464,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "JPY",
                        "amount": 100.0,
                        "rate": 15.662,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ZAR",
                        "amount": 1.0,
                        "rate": 1.269,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CAD",
                        "amount": 1.0,
                        "rate": 16.277,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "KRW",
                        "amount": 100.0,
                        "rate": 1.616,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "HUF",
                        "amount": 100.0,
                        "rate": 6.29,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "MYR",
                        "amount": 1.0,
                        "rate": 5.292,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "MXN",
                        "amount": 1.0,
                        "rate": 1.14,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "XDR",
                        "amount": 1.0,
                        "rate": 30.878,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "NOK",
                        "amount": 1.0,
                        "rate": 2.124,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "NZD",
                        "amount": 1.0,
                        "rate": 13.31,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "PLN",
                        "amount": 1.0,
                        "rate": 6.037,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "RON",
                        "amount": 1.0,
                        "rate": 5.041,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "SGD",
                        "amount": 1.0,
                        "rate": 17.526,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "SEK",
                        "amount": 1.0,
                        "rate": 2.278,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CHF",
                        "amount": 1.0,
                        "rate": 26.341,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "THB",
                        "amount": 100.0,
                        "rate": 69.661,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "TRY",
                        "amount": 100.0,
                        "rate": 64.322,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "USD",
                        "amount": 1.0,
                        "rate": 23.44,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "GBP",
                        "amount": 1.0,
                        "rate": 30.02,
                        "source_currency": "CZK"
                      }
                    ]
                  },
                  "with language parameter OK returns a 200 response": {
                    "value": [
                      {
                        "target_currency": "AUD",
                        "amount": 1.0,
                        "rate": 14.038,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "BRL",
                        "amount": 1.0,
                        "rate": 3.876,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "BGN",
                        "amount": 1.0,
                        "rate": 12.742,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CAD",
                        "amount": 1.0,
                        "rate": 15.831,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CNY",
                        "amount": 1.0,
                        "rate": 3.012,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "DKK",
                        "amount": 1.0,
                        "rate": 3.339,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "EUR",
                        "amount": 1.0,
                        "rate": 24.92,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "HKD",
                        "amount": 1.0,
                        "rate": 2.824,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "HUF",
                        "amount": 100.0,
                        "rate": 6.167,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ISK",
                        "amount": 100.0,
                        "rate": 17.057,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "XDR",
                        "amount": 1.0,
                        "rate": 29.677,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "INR",
                        "amount": 100.0,
                        "rate": 25.732,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "IDR",
                        "amount": 1000.0,
                        "rate": 1.307,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ILS",
                        "amount": 1.0,
                        "rate": 6.05,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "JPY",
                        "amount": 100.0,
                        "rate": 15.358,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "MYR",
                        "amount": 1.0,
                        "rate": 5.063,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "MXN",
                        "amount": 1.0,
                        "rate": 1.118,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "NZD",
                        "amount": 1.0,
                        "rate": 13.046,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "NOK",
                        "amount": 1.0,
                        "rate": 2.112,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "PHP",
                        "amount": 100.0,
                        "rate": 39.051,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "PLN",
                        "amount": 1.0,
                        "rate": 5.835,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "RON",
                        "amount": 1.0,
                        "rate": 5.006,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "SGD",
                        "amount": 1.0,
                        "rate": 16.732,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "ZAR",
                        "amount": 1.0,
                        "rate": 1.181,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "KRW",
                        "amount": 100.0,
                        "rate": 1.527,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "SEK",
                        "amount": 1.0,
                        "rate": 2.273,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "CHF",
                        "amount": 1.0,
                        "rate": 26.538,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "THB",
                        "amount": 100.0,
                        "rate": 65.512,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "TRY",
                        "amount": 100.0,
                        "rate": 56.997,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "GBP",
                        "amount": 1.0,
                        "rate": 29.328,
                        "source_currency": "CZK"
                      },
                      {
                        "target_currency": "USD",
                        "amount": 1.0,
                        "rate": 21.909,
                        "source_currency": "CZK"
                      }
                    ]
                  },
                  "with unsupported source currency OK returns a 200 response": {
                    "value": []
                  }
                }
              }
            }
          },
          "422": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid request parameters with invalid source currency format returns a 422 response": {
                    "value": {
                      "errors": {
                        "source_currency": [
                          "must be a valid 3-letter currency code"
                        ]
                      }
                    }
                  },
                  "Invalid request parameters with invalid target currency format returns a 422 response": {
                    "value": {
                      "errors": {
                        "target_currency": [
                          "each target currency must be a valid 3-letter code"
                        ]
                      }
                    }
                  },
                  "Invalid request parameters with invalid date format returns a 422 response": {
                    "value": {
                      "errors": {
                        "date": [
                          "must be in the format YYYY-MM-DD"
                        ]
                      }
                    }
                  },
                  "Invalid request parameters when external server returns an error returns a 422 response": {
                    "value": {
                      "errors": {
                        "base": [
                          "API request failed with status 400"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}